<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTT RPG</title>
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>
    <div id="loginScreen">
        <div class="login-container">
            <h1>üé≤ VTT RPG</h1>
            
            <div class="input-group">
                <label for="playerName">Nome ou C√≥digo do Mestre</label>
                <input type="text" id="playerName" placeholder="Digite seu nome ou 9678">
            </div>

            <div class="input-group">
                <label>Escolha sua cor</label>
                <div class="color-selector" id="colorSelector">
                    <div class="color-option" data-color="#6b7280" style="background: #6b7280;"></div>
                    <div class="color-option" data-color="#ef4444" style="background: #ef4444;"></div>
                    <div class="color-option" data-color="#3b82f6" style="background: #3b82f6;"></div>
                    <div class="color-option" data-color="#10b981" style="background: #10b981;"></div>
                    <div class="color-option" data-color="#f59e0b" style="background: #f59e0b;"></div>
                    <div class="color-option" data-color="#8b5cf6" style="background: #8b5cf6;"></div>
                    <div class="color-option" data-color="#ec4899" style="background: #ec4899;"></div>
                    <div class="color-option" data-color="#06b6d4" style="background: #06b6d4;"></div>
                </div>
            </div>

            <div class="input-group">
                <label>Escolha seu emoji</label>
                <div class="emoji-selector" id="emojiSelector">
                    <div class="emoji-option" data-emoji="üë§">üë§</div>
                    <div class="emoji-option" data-emoji="‚öîÔ∏è">‚öîÔ∏è</div>
                    <div class="emoji-option" data-emoji="üßô">üßô</div>
                    <div class="emoji-option" data-emoji="üõ°Ô∏è">üõ°Ô∏è</div>
                    <div class="emoji-option" data-emoji="üèπ">üèπ</div>
                    <div class="emoji-option" data-emoji="üó°Ô∏è">üó°Ô∏è</div>
                    <div class="emoji-option" data-emoji="üîÆ">üîÆ</div>
                    <div class="emoji-option" data-emoji="üëë" data-master="true">üëë</div>
                </div>
            </div>

            <button class="login-btn" id="loginBtn">Entrar</button>
        </div>
    </div>

    <div id="gameScreen">
        
        <canvas id="gameCanvas"></canvas>

        <div id="toolbar">
            <div class="tool-btn active" data-tool="move" title="Mover (V)">‚úã</div>
            
            <div class="tool-item"> 
                <div class="tool-btn" data-tool="ruler" title="R√©gua (R)">üìè</div> 
                <div class="tool-submenu">
                    <div class="tool-btn-sub" data-ruler="line">üìè</div>
                    <div class="tool-btn-sub" data-ruler="circle">‚≠ï</div>
                    <div class="tool-btn-sub" data-ruler="square">‚¨ú</div>
                    <div class="tool-btn-sub" data-ruler="cone">üìê</div>
                </div>
            </div>
            
            <div class="tool-btn" data-tool="wall" title="Paredes (P)" id="wallTool">üß±</div>
            <div class="tool-btn" data-tool="enemy" title="Inimigos (I)">üëæ</div>
        </div>

        <div id="playersList">
        </div>

        <div id="diceTray" class="minimized">
            <div class="dice-tray-header">
                <h3>üé≤ Bandeja de Dados</h3>
                <div class="chat-controls">
                    <button class="chat-control-btn" onclick="minimizeDiceTray()">‚àí</button>
                    <button class="chat-control-btn" onclick="closeDiceTray()">√ó</button>
                </div>
            </div>
            <div class="dice-tray-content">
                <div class="dice-container">
                    <div class="dice-btn" data-dice="d4"><span>D4</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d6"><span>D6</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d8"><span>D8</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d10"><span>D10</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d12"><span>D12</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d20"><span>D20</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d100"><span>D100</span><span class="dice-count">0</span></div>
                </div>
                <div class="dice-roll-controls">
                    <input type="number" class="modifier-input" placeholder="+0" value="0">
                    <button class="roll-btn">üé≤ Rolar Dados</button>
                </div>
            </div>
        </div>

        <div id="attackBar">
            <div 
                class="attack-slot" 
                data-name="Espada Longa" 
                data-damage="1d8" 
                data-description="Ataque corpo-a-corpo padr√£o.">
                ‚öîÔ∏è
            </div>
            <div 
                class="attack-slot" 
                data-name="Bola de Fogo" 
                data-damage="8d6" 
                data-description="Grande explos√£o m√°gica. (√Årea: C√≠rculo)">
                üî•
            </div>
            <div 
                class="attack-slot" 
                data-name="Arco Longo" 
                data-damage="1d8" 
                data-description="Ataque de longo alcance.">
                üèπ
            </div>
            <div class="attack-slot" title="Adicionar Arma">+</div>
        </div>

        <div id="chatContainer" class="minimized">
            <div class="chat-header">
                <h3>üí¨ Chat</h3>
                <div class="chat-controls-chat">
                    <button class="chat-control-btn" onclick="minimizeChat()">‚àí</button>
                    <button class="chat-control-btn" onclick="closeChat()">√ó</button>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages">
                </div>
            <div class="chat-input-container">
                <input type="text" placeholder="Digite sua mensagem..." id="chatInput">
            </div>
        </div>

        <div id="characterSheet" class="minimized">
            <div class="sheet-header">
                <h2>üë§ Ficha de Personagem</h2>
                <div class="chat-controls">
                    <button class="chat-control-btn" onclick="minimizeCharacterSheet()">‚àí</button>
                    <button class="chat-control-btn" onclick="closeCharacterSheet()">√ó</button>
                </div>
            </div>
            
            <div class="sheet-tabs sheet-grid-header">
                <div class="sheet-tab active" data-tab="personagem">Personagem</div>
                <div class="sheet-tab" data-tab="spells">Magias</div>
                <div class="sheet-tab" data-tab="history">Hist√≥ria</div>
            </div>
            
            <div class="sheet-content sheet-grid-container">
                
                <div id="personagemTab" class="tab-content sheet-grid-main">
                    
                    <div class="sheet-section sheet-grid-menu">
                        <h4>üéØ Per√≠cias (Skills)</h4>
                        <ul class="item-list" id="skillsList">
                            </ul>
                    </div>

                    <div class="sheet-grid-content">
                        
                        <div class="info-grid">
                            <div class="info-field"><label>Nome</label><input type="text" value="Aventureiro"></div>
                            <div class="info-field"><label>Ra√ßa</label><input type="text" value="Humano"></div>
                            <div class="info-field"><label>Classe</label><input type="text" value="Guerreiro"></div>
                            <div class="info-field"><label>N√≠vel</label><input type="number" value="1"></div>
                        </div>

                        <div class="combat-attributes-row"> 

                            <div class="attributes-and-mods-column">
                                <div class="sheet-section">
                                    <h4>‚ö° Atributos</h4>
                                    <div id="attributesGrid" class="attributes-grid"></div>
                                </div>
                                <div class="sheet-section small-mods">
                                    <h4>‚öîÔ∏è Mods Adicionais</h4>
                                    <div class="info-grid">
                                        <div class="info-field">
                                            <label>Iniciativa</label>
                                            <input type="text" id="initiativeModDisplay" value="+0" readonly>
                                        </div>
                                        <div class="info-field">
                                            <label>Profici√™ncia</label>
                                            <input type="text" id="proficiencyBonusDisplay" value="+2" readonly>
                                        </div>
                                        <div class="info-field" style="grid-column: span 2;">
                                            <label>Inspira√ß√£o</label>
                                            <input type="checkbox" style="width: auto; margin-top: 5px;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="combat-stats-wrapper">
                                <div class="sheet-section combat-stats">
                                    <h4>üõ°Ô∏è CA e Deslocamento</h4>
                                    <hr>
                                    <div class="stat-block ac-block">
                                        <div class="stat-main">
                                            <label>CLASSE DE ARMADURA</label>
                                            <div class="combat-value-shield">
                                                <input type="text" id="totalACDisplay" value="10" readonly>
                                            </div>
                                        </div>
                                        <div class="stat-breakdown info-grid ac-grid">
                                            <div class="info-field"><input type="number" id="baseACInput" value="10" min="0"><h3>Armadura</h3></div>
                                            <div class="info-field"><input type="text" id="dexModACDisplay" value="+0" readonly><h3>Destreza</h3></div>
                                            <div class="info-field"><input type="number" id="shieldACInput" value="0" min="0"><h3>Escudo</h3></div>
                                        </div>
                                    </div>
                                    
                                    <div class="stat-block speed-block">
                                        <div class="stat-main">
                                            <hr>
                                            <label>DESLOCAMENTO (P√â)</label>
                                            <div class="combat-value-box">
                                                <input type="number" id="walkSpeedInput" value="9" min="0" readonly>
                                            </div>
                                        </div>
                                        <div class="stat-breakdown info-grid speed-grid">
                                            <div class="info-field"><input type="number" id="climbSpeedInput" value="0" min="0"><h3>Escalada</h3></div>
                                            <div class="info-field"><input type="number" id="flySpeedInput" value="0" min="0"><h3>Voo</h3></div>
                                            <div class="info-field"><input type="number" id="swimSpeedInput" value="0" min="0"><h3>Nata√ß√£o</h3></div>
                                        </div>
                                    </div>
                                </div>

                                </div>

                        </div>
                        <div class="sheet-section">
                            <h4>‚öîÔ∏è Armas</h4>
                            <div id="addWeaponFormContainer" class="add-form-container" style="display: none;"> 
                                <div class="info-field"><label>Nome da Arma</label><input type="text" id="weaponNameInput"></div>
                                <div class="info-field"><label>Dado de Dano (ex: 1d8)</label><input type="text" id="weaponDamageInput"></div>
                                <div class="info-field">
                                    <label>Tipo de Arma</label>
                                    <select id="weaponTypeSelect">
                                        <option value="Comum">Comum</option>
                                        <option value="Leve">Leve</option>
                                        <option value="Pesada">Pesada</option>
                                        <option value="M√°gica">M√°gica</option>
                                    </select>
                                </div>
                                <div class="info-field">
                                    <label>Descri√ß√£o</label>
                                    <textarea id="weaponDescriptionInput" style="width: 100%; min-height: 50px; background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 6px; padding: 0.5rem; color: var(--text-color);"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button class="add-btn confirm-btn" id="confirmAddWeapon">Adicionar</button>
                                    <button class="add-btn cancel-btn" id="cancelAddWeapon">Cancelar</button>
                                </div>
                            </div>
                            
                            <ul class="item-list" id="weaponList"></ul>
                            <button class="add-btn" data-action="add-weapon" id="openWeaponFormBtn">+ Adicionar Arma</button>
                        </div>

                        <div class="sheet-section"><h4>üõ°Ô∏è Equipamentos</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Equipamento</button></div>
                        <div class="sheet-section"><h4>üéí Mochila</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Item</button></div>
                    </div> 
                </div> 
                
                <div id="spellsTab" class="tab-content" style="display: none;">
                    <div class="sheet-section"><h4>‚ú® Magias</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Magia</button></div>
                    <div class="sheet-section"><h4>üí™ Habilidades</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Habilidade</button></div>
                </div>

                <div id="historyTab" class="tab-content" style="display: none;">
                    <div class="sheet-section"><h4>üë§ Apar√™ncia</h4><textarea style="width: 100%; min-height: 100px; background: var(--bg-darker); border: 1px solid var(--border-color); border-radius: 6px; padding: 0.75rem; color: var(--text-color);" placeholder="Descreva a apar√™ncia do seu personagem..."></textarea></div>
                    <div class="sheet-section"><h4>üìñ Background</h4><textarea style="width: 100%; min-height: 150px; background: var(--bg-darker); border: 1px solid var(--border-color); border-radius: 6px; padding: 0.75rem; color: var(--text-color);" placeholder="Conte a hist√≥ria do seu personagem..."></textarea></div>
                </div>
            </div> 
        </div>

        <div id="enemyCompendium">
            <div class="compendium-header">
                <h2>üëæ Comp√™ndio de Inimigos</h2>
                <button class="close-btn" id="closeCompendiumBtn">√ó</button>
            </div>
            <div class="compendium-content">
                <button class="add-btn" style="margin-bottom: 1rem;">+ Criar Novo Inimigo</button>
                
                <div class="enemy-list-item">
                    <div>
                        <h4>Goblin</h4>
                        <p style="font-size: 0.85rem; color: #9ca3af;">HP: 7 | CA: 15</p>
                    </div>
                    <div>
                        <button class="add-btn">Spawnar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>