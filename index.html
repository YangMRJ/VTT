<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTT RPG</title>
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>
    <div id="loginScreen">
        <div class="login-container">
            <h1>ğŸ² VTT RPG</h1>
            
            <div class="input-group">
                <label for="playerName">Nome ou CÃ³digo do Mestre</label>
                <input type="text" id="playerName" placeholder="Digite seu nome ou 9678">
            </div>

            <div class="input-group">
                <label>Escolha sua cor</label>
                <div class="color-selector" id="colorSelector">
                    <div class="color-option" data-color="#6b7280" style="background: #6b7280;"></div>
                    <div class="color-option" data-color="#ef4444" style="background: #ef4444;"></div>
                    <div class="color-option" data-color="#3b82f6" style="background: #3b82f6;"></div>
                    <div class="color-option" data-color="#10b981" style="background: #10b981;"></div>
                    <div class="color-option" data-color="#f59e0b" style="background: #f59e0b;"></div>
                    <div class="color-option" data-color="#8b5cf6" style="background: #8b5cf6;"></div>
                    <div class="color-option" data-color="#ec4899" style="background: #ec4899;"></div>
                    <div class="color-option" data-color="#06b6d4" style="background: #06b6d4;"></div>
                </div>
            </div>

            <div class="input-group">
                <label>Escolha seu emoji</label>
                <div class="emoji-selector" id="emojiSelector">
                    <div class="emoji-option" data-emoji="ğŸ‘¤">ğŸ‘¤</div>
                    <div class="emoji-option" data-emoji="âš”ï¸">âš”ï¸</div>
                    <div class="emoji-option" data-emoji="ğŸ§™">ğŸ§™</div>
                    <div class="emoji-option" data-emoji="ğŸ›¡ï¸">ğŸ›¡ï¸</div>
                    <div class="emoji-option" data-emoji="ğŸ¹">ğŸ¹</div>
                    <div class="emoji-option" data-emoji="ğŸ—¡ï¸">ğŸ—¡ï¸</div>
                    <div class="emoji-option" data-emoji="ğŸ”®">ğŸ”®</div>
                    <div class="emoji-option" data-emoji="ğŸ‘‘" data-master="true">ğŸ‘‘</div>
                </div>
            </div>

            <button class="login-btn" id="loginBtn">Entrar</button>
        </div>
    </div>

    <div id="gameScreen">
        
        <canvas id="gameCanvas"></canvas>

        <div id="toolbar">
            <div class="tool-btn active" data-tool="move" title="Mover (V)">âœ‹</div>
            
            <div class="tool-item"> 
                <div class="tool-btn" data-tool="ruler" title="RÃ©gua (R)">ğŸ“</div> 
                <div class="tool-submenu">
                    <div class="tool-btn-sub" data-ruler="line">ğŸ“</div>
                    <div class="tool-btn-sub" data-ruler="circle">â­•</div>
                    <div class="tool-btn-sub" data-ruler="square">â¬œ</div>
                    <div class="tool-btn-sub" data-ruler="cone">ğŸ“</div>
                </div>
            </div>
            
            <div class="tool-btn" data-tool="wall" title="Paredes (P)" id="wallTool">ğŸ§±</div>
            <div class="tool-btn" data-tool="enemy" title="Inimigos (I)">ğŸ‘¾</div>
        </div>

        <div id="playersList">
        </div>

        <div id="diceTray" class="minimized">
            <div class="dice-tray-header">
                <h3>ğŸ² Bandeja de Dados</h3>
                <div class="chat-controls">
                    <button class="chat-control-btn" onclick="minimizeDiceTray()">âˆ’</button>
                    <button class="chat-control-btn" onclick="closeDiceTray()">Ã—</button>
                </div>
            </div>
            <div class="dice-tray-content">
                <div class="dice-container">
                    <div class="dice-btn" data-dice="d4"><span>D4</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d6"><span>D6</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d8"><span>D8</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d10"><span>D10</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d12"><span>D12</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d20"><span>D20</span><span class="dice-count">0</span></div>
                    <div class="dice-btn" data-dice="d100"><span>D100</span><span class="dice-count">0</span></div>
                </div>
                <div class="dice-roll-controls">
                    <input type="number" class="modifier-input" placeholder="+0" value="0">
                    <button class="roll-btn">ğŸ² Rolar Dados</button>
                </div>
            </div>
        </div>

        <div id="attackBar">
            <div 
                class="attack-slot" 
                data-name="Espada Longa" 
                data-damage="1d8" 
                data-description="Ataque corpo-a-corpo padrÃ£o.">
                âš”ï¸
            </div>
            <div 
                class="attack-slot" 
                data-name="Bola de Fogo" 
                data-damage="8d6" 
                data-description="Grande explosÃ£o mÃ¡gica. (Ãrea: CÃ­rculo)">
                ğŸ”¥
            </div>
            <div 
                class="attack-slot" 
                data-name="Arco Longo" 
                data-damage="1d8" 
                data-description="Ataque de longo alcance.">
                ğŸ¹
            </div>
            <div class="attack-slot" title="Adicionar Arma">+</div>
        </div>

        <div id="chatContainer" class="closed">
            <div class="chat-header">
                <h3>ğŸ’¬ Chat</h3>
                <div class="chat-controls-chat">
                    <button class="chat-control-btn" onclick="minimizeChat()">âˆ’</button>
                    <button class="chat-control-btn" onclick="closeChat()">Ã—</button>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages">
                </div>
            <div class="chat-input-container">
                <input type="text" placeholder="Digite sua mensagem..." id="chatInput">
            </div>
        </div>

        <div id="characterSheet" class="minimized">
            <div class="sheet-header">
                <h2>ğŸ‘¤ Ficha de Personagem</h2>
                <div class="chat-controls">
                    <button class="chat-control-btn" onclick="minimizeCharacterSheet()">âˆ’</button>
                    <button class="chat-control-btn" onclick="closeCharacterSheet()">Ã—</button>
                </div>
            </div>
            
            <div class="sheet-tabs sheet-grid-header">
                <div class="sheet-tab active" data-tab="personagem">Personagem</div>
                <div class="sheet-tab" data-tab="spells">Magias</div>
                <div class="sheet-tab" data-tab="history">HistÃ³ria</div>
            </div>
            
            <div class="sheet-content sheet-grid-container">
                
                <div id="personagemTab" class="tab-content sheet-grid-main">
                    
                    <div class="sheet-section sheet-grid-menu">
                        <h4>ğŸ¯ PerÃ­cias (Skills)</h4>
                        <ul class="item-list" id="skillsList">
                            </ul>
                    </div>

                    <div class="sheet-grid-content">
                        
                        <div class="info-grid">
                            <div class="info-field"><label>Nome</label><input type="text" value="Aventureiro"></div>
                            <div class="info-field"><label>RaÃ§a</label><input type="text" value="Humano"></div>
                            <div class="info-field"><label>Classe</label><input type="text" value="Guerreiro"></div>
                            <div class="info-field"><label>NÃ­vel</label><input type="number" value="1"></div>
                        </div>

                        <div class="sheet-section">
                            <h4>âš”ï¸ Combate & Atributos</h4>
                            <div class="info-grid" style="grid-template-columns: repeat(3, 1fr);">
                                <div class="info-field" style="justify-self: center;"><label>CA</label><input type="number" value="10"></div>
                                <div class="info-field"><label>Iniciativa</label><input type="text" value="+0"></div>
                                <div class="info-field"><label>BÃ´nus de ProficiÃªncia</label><input type="text" value="+2"></div>
                            </div>
                            <div class="info-grid" style="grid-template-columns: repeat(2, 1fr);">
                                <div class="info-field"><label>InspiraÃ§Ã£o</label><input type="checkbox" style="width: auto; margin-top: 5px;"></div>
                                <div class="info-field" style="visibility: hidden; height: 0; padding: 0; border: none;"></div>
                            </div>
                        </div>

                        <div class="sheet-section">
                            <h4>âš”ï¸ Armas</h4>
                            <div id="addWeaponFormContainer" class="add-form-container" style="display: none;"> 
                                <div class="info-field"><label>Nome da Arma</label><input type="text" id="weaponNameInput"></div>
                                <div class="info-field"><label>Dado de Dano (ex: 1d8)</label><input type="text" id="weaponDamageInput"></div>
                                <div class="info-field">
                                    <label>Tipo de Arma</label>
                                    <select id="weaponTypeSelect">
                                        <option value="Comum">Comum</option>
                                        <option value="Leve">Leve</option>
                                        <option value="Pesada">Pesada</option>
                                        <option value="MÃ¡gica">MÃ¡gica</option>
                                    </select>
                                </div>
                                <div class="info-field">
                                    <label>DescriÃ§Ã£o</label>
                                    <textarea id="weaponDescriptionInput" style="width: 100%; min-height: 50px; background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: 6px; padding: 0.5rem; color: var(--text-color);"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button class="add-btn confirm-btn" id="confirmAddWeapon">Adicionar</button>
                                    <button class="add-btn cancel-btn" id="cancelAddWeapon">Cancelar</button>
                                </div>
                            </div>
                            
                            <ul class="item-list" id="weaponList"></ul>
                            <button class="add-btn" data-action="add-weapon" id="openWeaponFormBtn">+ Adicionar Arma</button>
                        </div>

                        <div class="sheet-section"><h4>ğŸ›¡ï¸ Equipamentos</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Equipamento</button></div>
                        <div class="sheet-section"><h4>ğŸ’ Mochila</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Item</button></div>
                    </div> 
                </div> 
                
                <div id="spellsTab" class="tab-content" style="display: none;">
                    <div class="sheet-section"><h4>âœ¨ Magias</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Magia</button></div>
                    <div class="sheet-section"><h4>ğŸ’ª Habilidades</h4><ul class="item-list"></ul><button class="add-btn">+ Adicionar Habilidade</button></div>
                </div>

                <div id="historyTab" class="tab-content" style="display: none;">
                    <div class="sheet-section"><h4>ğŸ‘¤ AparÃªncia</h4><textarea style="width: 100%; min-height: 100px; background: var(--bg-darker); border: 1px solid var(--border-color); border-radius: 6px; padding: 0.75rem; color: var(--text-color);" placeholder="Descreva a aparÃªncia do seu personagem..."></textarea></div>
                    <div class="sheet-section"><h4>ğŸ“– Background</h4><textarea style="width: 100%; min-height: 150px; background: var(--bg-darker); border: 1px solid var(--border-color); border-radius: 6px; padding: 0.75rem; color: var(--text-color);" placeholder="Conte a histÃ³ria do seu personagem..."></textarea></div>
                </div>
            </div> 
        </div>

        <div id="enemyCompendium">
            <div class="compendium-header">
                <h2>ğŸ‘¾ CompÃªndio de Inimigos</h2>
                <button class="close-btn" id="closeCompendiumBtn">Ã—</button>
            </div>
            <div class="compendium-content">
                <button class="add-btn" style="margin-bottom: 1rem;">+ Criar Novo Inimigo</button>
                
                <div class="enemy-list-item">
                    <div>
                        <h4>Goblin</h4>
                        <p style="font-size: 0.85rem; color: #9ca3af;">HP: 7 | CA: 15</p>
                    </div>
                    <div>
                        <button class="add-btn">Spawnar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>